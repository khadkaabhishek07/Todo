@page "/add-user"
@using Todo.Models

<h3>Add User</h3>

<div>
    <form>
        <div>
            <label>User ID:</label>
            <input type="number" @bind="newUser.UserId" />
        </div>
        <div>
            <label>User Name:</label>
            <input type="text" @bind="newUser.UserName" />
        </div>
        <div>
            <label>Password:</label>
            <input type="password" @bind="newUser.Password" />
        </div>
        <div>
            <label>Email:</label>
            <input type="email" @bind="newUser.Email" />
        </div>
        <div>
            <label>Name:</label>
            <input type="text" @bind="newUser.Name" />
        </div>
        <div>
            <label>Address:</label>
            <input type="text" @bind="newUser.Address" />
        </div>
        <div>
            <label>Gender:</label>
            <input type="text" @bind="newUser.Gender" />
        </div>
        <div>
            <label>Phone:</label>
            <input type="tel" @bind="newUser.Phone" />
        </div>
        <button type="button" @onclick="AddNewUser">Add User</button>
    </form>
</div>

<h3>View User Details</h3>
<div>
    <input type="number" @bind="searchUserId" placeholder="Enter User ID" />
    <button type="button" @onclick="ViewUserDetails">View Details</button>
</div>

@if (selectedUser != null)
{
    <div>
        <p><strong>User ID:</strong> @selectedUser.UserId</p>
        <p><strong>User Name:</strong> @selectedUser.UserName</p>
        <p><strong>Email:</strong> @selectedUser.Email</p>
        <p><strong>Name:</strong> @selectedUser.Name</p>
        <p><strong>Address:</strong> @selectedUser.Address</p>
        <p><strong>Gender:</strong> @selectedUser.Gender</p>
        <p><strong>Phone:</strong> @selectedUser.Phone</p>
    </div>
}

@code {
    private User newUser = new User();
    private List<User> usersList = new List<User>();
    private int searchUserId;
    private User selectedUser;

    private void AddNewUser() 
    {
        usersList.Add(new User
            {
                UserId = newUser.UserId,
                UserName = newUser.UserName,
                Password = newUser.Password,
                Email = newUser.Email,
                Name = newUser.Name,
                Address = newUser.Address,
                Gender = newUser.Gender,
                Phone = newUser.Phone
            });

        newUser = new User();
    }

    private void ViewUserDetails()
    {
        selectedUser = usersList.FirstOrDefault(u => u.UserId == searchUserId);
    }
}

